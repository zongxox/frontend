<div class="container my-4">

  <div class="card shadow-sm">
    <div class="card-header fw-bold">
      主頁面: Angular+JDBC table: fruit (DATE:0120)
    </div>

    <div class="card-body">

      <form [formGroup]="initForm">

        <div class="mb-3">
          <label class="form-label">水果名稱</label>
          <input
            type="text"
            class="form-control"
            formControlName="fruitName"
            placeholder="水果名稱"
          />
        </div>

        <div class="mb-3">
          <label class="form-label d-block">價格</label>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" formControlName="price" value="100" id="price100">
            <label class="form-check-label" for="price100">100</label>
          </div>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" formControlName="price" value="200" id="price200">
            <label class="form-check-label" for="price200">200</label>
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">產地</label>
          <select class="form-select" formControlName="origin">
            <option value="">請選擇</option>
            <option *ngFor="let item of list" [value]="item.id">{{ item.origin }}</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label d-block">數量</label>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" (change)="getQuantity($event)" value="50" id="q50">
            <label class="form-check-label" for="q50">50</label>
          </div>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" (change)="getQuantity($event)" value="100" id="q100">
            <label class="form-check-label" for="q100">100</label>
          </div>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" (change)="getQuantity($event)" value="200" id="q200">
            <label class="form-check-label" for="q200">200</label>
          </div>
        </div>

      </form>

      <div class="d-flex gap-2 mt-3">
        <button type="button" class="btn btn-primary" [disabled]="initForm.invalid" (click)="query()">查詢</button>
        <button type="button" class="btn btn-success" routerLink="/ins0120">新增</button>
      </div>

      <div class="mt-3">
        <div *ngIf="info" class="alert alert-info py-2 mb-2">{{ info }}</div>
        <div *ngIf="in" class="alert alert-success py-2 mb-2">{{ in }}</div>
        <div *ngIf="del" class="alert alert-warning py-2 mb-0">{{ del }}</div>
      </div>

    </div>
  </div>

  <!-- 查詢結果 -->
  <div class="card shadow-sm mt-4">
    <div class="card-header fw-bold">查詢結果</div>

    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
          <thead class="table-dark">
          <tr>
            <th style="white-space:nowrap;">編號</th>
            <th style="white-space:nowrap;">編輯</th>
            <th>id</th>
            <th>水果名稱</th>
            <th>水果編號</th>
            <th>水果種類</th>
            <th>價格</th>
            <th>數量</th>
            <th>產地</th>
            <th>備註</th>
            <th>建立人</th>
            <th>建立時間</th>
            <th>更新人</th>
            <th>更新時間</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let fruit of fruitList; let i = index">
            <td>{{ i + 1 }}</td>

            <td style="white-space:nowrap;">
              <button type="button" class="btn btn-sm btn-outline-primary me-2"
                      [routerLink]="['/upd0120', fruit.id]">
                修改
              </button>
              <button type="button" class="btn btn-sm btn-outline-danger"
                      (click)="delete(fruit.id)">
                刪除
              </button>
            </td>

            <td>{{ fruit.id }}</td>
            <td>{{ fruit.fruitName }}</td>
            <td>{{ fruit.fruitCode }}</td>
            <td>{{ fruit.fruitType }}</td>
            <td>{{ fruit.price }}</td>
            <td>{{ fruit.quantity }}</td>
            <td>{{ fruit.origin }}</td>
            <td>{{ fruit.remark }}</td>
            <td>{{ fruit.creUser }}</td>
            <td>{{ approveDate(fruit.creDate) }}</td>
            <td>{{ fruit.updUser }}</td>
            <td>{{ approveDateStart(fruit.updDate) }}</td>
          </tr>
          </tbody>

        </table>
      </div>
    </div>
  </div>

</div>
